{% extends 'store/base.html' %}
{% block title %}Товары поставщика {{ supplier.company_name }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Товары поставщика: {{ supplier.company_name }}</h2>
    <p class="text-muted">
        ИНН: {{ supplier.inn }} |
        Телефон: {{ supplier.phone }} |
        Email: {{ supplier.email }}
    </p>
    <hr>

    {% if products %}
        <div class="row g-4">
            {% for product in products %}
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm hover-shadow">
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text text-muted small">
                                {{ product.description|truncatewords:15 }}
                            </p>
                            <p class="card-text fs-5 fw-bold text-success">
                                {{ product.price }} ₽
                            </p>
                            <a href="{% url 'product_detail' product.pk %}"
                               class="btn btn-primary w-100 mb-2">
                                <i class="fas fa-eye me-1"></i>Подробнее
                            </a>
                            {% if user.is_authenticated and user.is_customer %}
                                <a href="{% url 'add_to_cart' product.pk %}"
                                   class="btn btn-outline-success w-100">
                                    <i class="fas fa-cart-plus me-1"></i>В корзину
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info">
            У этого поставщика пока нет товаров.
        </div>
    {% endif %}
</div>
{% endblock %}
